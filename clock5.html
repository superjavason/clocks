<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>赛博朋克矩阵数字时钟</title>
    <link href="./dist/output.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Share Tech Mono', monospace;
            overflow: hidden;
        }
        
        .matrix-canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1;
            opacity: 0.8;
        }
        
        .cyber-text {
            font-family: 'Orbitron', monospace;
            color: #00ff41;
            text-shadow: 0 0 5px #00ff41, 0 0 10px #00ff41, 0 0 20px #00ff41;
            position: relative;
            z-index: 10;
        }
        
        .glitch-container {
            position: relative;
            display: inline-block;
        }
        
        .glitch {
            position: relative;
            animation: glitch-anim 2s infinite linear alternate-reverse;
        }
        
        .glitch::before,
        .glitch::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .glitch::before {
            animation: glitch-anim-1 0.5s infinite linear alternate-reverse;
            color: #ff0040;
            z-index: -1;
            clip-path: inset(40% 0 61% 0);
        }
        
        .glitch::after {
            animation: glitch-anim-2 0.5s infinite linear alternate-reverse;
            color: #00ffff;
            z-index: -2;
            clip-path: inset(25% 0 58% 0);
        }
        
        @keyframes glitch-anim {
            0% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
            100% { transform: translate(0); }
        }
        
        @keyframes glitch-anim-1 {
            0% { clip-path: inset(40% 0 61% 0); }
            20% { clip-path: inset(92% 0 1% 0); }
            40% { clip-path: inset(43% 0 1% 0); }
            60% { clip-path: inset(25% 0 58% 0); }
            80% { clip-path: inset(54% 0 7% 0); }
            100% { clip-path: inset(58% 0 43% 0); }
        }
        
        @keyframes glitch-anim-2 {
            0% { clip-path: inset(25% 0 58% 0); }
            20% { clip-path: inset(54% 0 7% 0); }
            40% { clip-path: inset(58% 0 43% 0); }
            60% { clip-path: inset(40% 0 61% 0); }
            80% { clip-path: inset(92% 0 1% 0); }
            100% { clip-path: inset(43% 0 1% 0); }
        }
        
        .scan-line {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #00ff41, transparent);
            animation: scan 3s linear infinite;
            z-index: 15;
            opacity: 0.8;
        }
        
        @keyframes scan {
            0% { top: 0; }
            100% { top: 100vh; }
        }
        
        .hud-border {
            border: 2px solid #00ff41;
            border-image: linear-gradient(45deg, #00ff41, #008f11) 1;
            background: rgba(0, 255, 65, 0.05);
            backdrop-filter: blur(2px);
            box-shadow: 
                0 0 20px rgba(0, 255, 65, 0.3),
                inset 0 0 20px rgba(0, 255, 65, 0.1);
        }
        
        .cyber-button {
            background: transparent;
            border: 1px solid #00ff41;
            color: #00ff41;
            transition: all 0.3s ease;
            font-family: 'Share Tech Mono', monospace;
        }
        
        .cyber-button:hover {
            background: rgba(0, 255, 65, 0.1);
            box-shadow: 0 0 10px #00ff41;
            text-shadow: 0 0 5px #00ff41;
        }
        
        .matrix-particle {
            position: absolute;
            color: #00ff41;
            font-family: 'Share Tech Mono', monospace;
            font-size: 12px;
            animation: fall 10s linear infinite;
            opacity: 0.7;
        }
        
        @keyframes fall {
            0% { 
                transform: translateY(-100vh); 
                opacity: 0;
            }
            10% { opacity: 0.7; }
            90% { opacity: 0.7; }
            100% { 
                transform: translateY(100vh); 
                opacity: 0;
            }
        }
        
        .data-stream {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #00ff41;
            font-size: 10px;
            opacity: 0.6;
            z-index: 5;
        }
        
        .back-button {
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid #00ff41;
            color: #00ff41;
            transition: all 0.3s ease;
        }
        
        .back-button:hover {
            background: rgba(0, 255, 65, 0.1);
            box-shadow: 0 0 10px #00ff41;
        }
    </style>
</head>
<body class="bg-black min-h-screen relative">
    
    <!-- 矩阵雨背景 -->
    <canvas id="matrix-canvas" class="matrix-canvas"></canvas>
    
    <!-- 扫描线效果 -->
    <div class="scan-line"></div>
    
    <!-- 返回按钮 -->
    <div class="absolute top-6 left-6 z-20">
        <button onclick="switchToClock && switchToClock('home')" class="back-button text-lg font-mono px-4 py-2 rounded flex items-center">
            <span class="mr-2">&lt;</span> 返回主页
        </button>
    </div>
    
    <!-- 标题区域 -->
    <div class="absolute top-6 right-6 z-20">
        <div class="cyber-text text-lg font-bold">CYBER MATRIX CLOCK</div>
        <div class="text-green-400 text-xs font-mono opacity-60">v2.1.3.7 // ACTIVE</div>
    </div>
    
    <!-- 数据流 -->
    <div class="data-stream font-mono">
        <div id="data-stream-content">
            INCOMING DATA...<br/>
            TIMESTAMP: <span id="timestamp"></span><br/>
            STATUS: CONNECTED<br/>
            ENCRYPTION: AES-256<br/>
            NODES: 2847<br/>
            UPTIME: <span id="uptime"></span><br/>
            SYNC: 99.7%<br/>
            LATENCY: 12ms<br/>
        </div>
    </div>

    <!-- 主时钟区域 -->
    <div class="flex flex-col items-center justify-center min-h-screen px-4 relative z-10">
        
        <!-- 主时钟显示 -->
        <div class="hud-border rounded-lg p-8 mb-8 max-w-4xl w-full">
            
            <!-- HUD 标题 -->
            <div class="flex justify-between items-center mb-6">
                <div class="cyber-text text-sm font-bold">TEMPORAL INTERFACE</div>
                <div class="cyber-text text-sm font-bold" id="system-status">SYSTEM ONLINE</div>
            </div>
            
            <!-- 时间显示 -->
            <div class="text-center mb-6">
                <div class="glitch-container">
                    <div id="main-clock" class="glitch cyber-text text-6xl md:text-8xl lg:text-9xl font-black" data-text="00:00:00">
                        00:00:00
                    </div>
                </div>
            </div>
            
            <!-- 进度条 -->
            <div class="mb-4">
                <div class="flex justify-between text-green-400 text-xs font-mono mb-1">
                    <span>TEMPORAL FLOW</span>
                    <span id="progress-percent">0%</span>
                </div>
                <div class="w-full bg-gray-900 rounded-full h-2 border border-green-400">
                    <div id="progress-bar" class="bg-green-400 h-full rounded-full transition-all duration-1000 ease-out shadow-lg" style="width: 0%; box-shadow: 0 0 10px #00ff41;"></div>
                </div>
            </div>
            
            <!-- 详细信息网格 -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-green-400 font-mono">
                <div class="text-center">
                    <div class="text-xs opacity-60 mb-1">DATE.VECTOR</div>
                    <div id="date-display" class="text-sm font-bold">2024.01.01.MON</div>
                </div>
                <div class="text-center">
                    <div class="text-xs opacity-60 mb-1">ZONE.OFFSET</div>
                    <div id="timezone" class="text-sm font-bold">GMT+8</div>
                </div>
                <div class="text-center">
                    <div class="text-xs opacity-60 mb-1">MILLISEC.BUFFER</div>
                    <div id="milliseconds" class="text-sm font-bold">000</div>
                </div>
            </div>
        </div>
        
        <!-- 控制面板 -->
        <div class="flex flex-wrap justify-center gap-4">
            <button id="glitch-toggle" class="cyber-button px-4 py-2 rounded text-sm">
                GLITCH: ON
            </button>
            <button id="matrix-toggle" class="cyber-button px-4 py-2 rounded text-sm">
                MATRIX: ON
            </button>
            <button id="scan-toggle" class="cyber-button px-4 py-2 rounded text-sm">
                SCAN: ON
            </button>
        </div>
        
        <!-- 底部状态栏 -->
        <div class="absolute bottom-6 left-6 right-6 flex justify-between items-center text-green-400 text-xs font-mono opacity-60">
            <div>MATRIX PROTOCOL v3.1.4 // CONNECTION SECURED</div>
            <div>USER: ANONYMOUS // ACCESS: GRANTED</div>
        </div>
    </div>

    <script>
        // Matrix Rain Effect
        const canvas = document.getElementById('matrix-canvas');
        const ctx = canvas.getContext('2d');
        
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        const matrixChars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*()_+-=[]{}|;:,.<>?';
        const fontSize = 14;
        const columns = Math.floor(canvas.width / fontSize);
        const drops = Array(columns).fill(1);
        
        let matrixEnabled = true;
        let glitchEnabled = true;
        let scanEnabled = true;
        
        function drawMatrix() {
            if (!matrixEnabled) return;
            
            ctx.fillStyle = 'rgba(0, 0, 0, 0.04)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            ctx.fillStyle = '#00ff41';
            ctx.font = `${fontSize}px Share Tech Mono`;
            
            drops.forEach((y, x) => {
                const text = matrixChars.charAt(Math.floor(Math.random() * matrixChars.length));
                const posX = x * fontSize;
                const posY = y * fontSize;
                
                // 随机亮度
                const alpha = Math.random();
                ctx.fillStyle = `rgba(0, 255, 65, ${alpha})`;
                
                ctx.fillText(text, posX, posY);
                
                if (posY > canvas.height && Math.random() > 0.975) {
                    drops[x] = 0;
                }
                drops[x]++;
            });
        }
        
        setInterval(drawMatrix, 50);
        
        // Time Update Function
        let startTime = new Date();
        
        function updateTime() {
            const now = new Date();
            
            // Format time
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            const timeString = `${hours}:${minutes}:${seconds}`;
            const milliseconds = String(now.getMilliseconds()).padStart(3, '0');
            
            // Update displays
            const clockElement = document.getElementById('main-clock');
            clockElement.textContent = timeString;
            clockElement.setAttribute('data-text', timeString);
            
            document.getElementById('milliseconds').textContent = milliseconds;
            
            // Update date
            const weekdays = ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'];
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const date = String(now.getDate()).padStart(2, '0');
            const weekday = weekdays[now.getDay()];
            document.getElementById('date-display').textContent = `${year}.${month}.${date}.${weekday}`;
            
            // Update timezone
            const timezoneOffset = -now.getTimezoneOffset() / 60;
            const timezoneString = timezoneOffset >= 0 ? `GMT+${timezoneOffset}` : `GMT${timezoneOffset}`;
            document.getElementById('timezone').textContent = timezoneString;
            
            // Update progress bar (based on seconds)
            const progressPercent = (now.getSeconds() / 60) * 100;
            document.getElementById('progress-bar').style.width = `${progressPercent}%`;
            document.getElementById('progress-percent').textContent = `${Math.floor(progressPercent)}%`;
            
            // Update timestamp and uptime
            document.getElementById('timestamp').textContent = now.getTime();
            const uptime = Math.floor((now - startTime) / 1000);
            document.getElementById('uptime').textContent = `${uptime}s`;
        }
        
        // Control Functions
        document.getElementById('glitch-toggle').addEventListener('click', function() {
            glitchEnabled = !glitchEnabled;
            const clockElement = document.getElementById('main-clock');
            if (glitchEnabled) {
                clockElement.classList.add('glitch');
                this.textContent = 'GLITCH: ON';
            } else {
                clockElement.classList.remove('glitch');
                this.textContent = 'GLITCH: OFF';
            }
        });
        
        document.getElementById('matrix-toggle').addEventListener('click', function() {
            matrixEnabled = !matrixEnabled;
            this.textContent = matrixEnabled ? 'MATRIX: ON' : 'MATRIX: OFF';
            if (!matrixEnabled) {
                ctx.fillStyle = 'black';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
            }
        });
        
        document.getElementById('scan-toggle').addEventListener('click', function() {
            scanEnabled = !scanEnabled;
            const scanLine = document.querySelector('.scan-line');
            scanLine.style.display = scanEnabled ? 'block' : 'none';
            this.textContent = scanEnabled ? 'SCAN: ON' : 'SCAN: OFF';
        });
        
        // Keyboard Events
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape' && window.switchToClock) {
                window.switchToClock('home');
            }
            if (event.key === 'g' || event.key === 'G') {
                document.getElementById('glitch-toggle').click();
            }
            if (event.key === 'm' || event.key === 'M') {
                document.getElementById('matrix-toggle').click();
            }
            if (event.key === 's' || event.key === 'S') {
                document.getElementById('scan-toggle').click();
            }
        });
        
        // Window Resize
        window.addEventListener('resize', function() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
        
        // Initialize
        updateTime();
        setInterval(updateTime, 50);
        
        // Random System Status Changes
        const statusMessages = ['SYSTEM ONLINE', 'SCANNING...', 'DATA SYNC', 'MATRIX ACTIVE', 'NEURAL LINK'];
        setInterval(() => {
            const randomStatus = statusMessages[Math.floor(Math.random() * statusMessages.length)];
            document.getElementById('system-status').textContent = randomStatus;
        }, 3000);
        
        // Cyber Sound Effect (Visual)
        document.addEventListener('click', function() {
            const clock = document.getElementById('main-clock');
            clock.style.textShadow = '0 0 20px #00ff41, 0 0 40px #00ff41, 0 0 60px #00ff41';
            setTimeout(() => {
                clock.style.textShadow = '0 0 5px #00ff41, 0 0 10px #00ff41, 0 0 20px #00ff41';
            }, 200);
        });
    </script>

</body>
</html>
